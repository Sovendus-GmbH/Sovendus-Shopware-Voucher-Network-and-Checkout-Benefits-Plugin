{"version":3,"file":"thankyou-page.js","sources":["../../../../../node_modules/sovendus-integration-types/dist/v3/index.mjs","../../../../../node_modules/sovendus-integration-scripts/src/scripts/vanilla/shared-utils.ts","../../../../../node_modules/sovendus-integration-scripts/src/scripts/vanilla/constants.ts","../../../../../node_modules/sovendus-integration-scripts/src/scripts/vanilla/thankyou-page/utils.ts","../../../../../node_modules/sovendus-integration-scripts/src/scripts/vanilla/thankyou-page/unmount.ts","../../../../../node_modules/sovendus-integration-scripts/src/scripts/vanilla/thankyou-page/thankyou-page-handler.ts","../../../../../node_modules/sovendus-integration-scripts/src/scripts/vanilla/thankyou-page/thankyou-page.ts","../../../../../node_modules/sovendus-integration-scripts/src/scripts/vanilla/thankyou-page/thankyou-page-loader.ts"],"sourcesContent":["var CountryCodes = /* @__PURE__ */ ((CountryCodes2) => {\n  CountryCodes2[\"AT\"] = \"AT\";\n  CountryCodes2[\"BE\"] = \"BE\";\n  CountryCodes2[\"DK\"] = \"DK\";\n  CountryCodes2[\"FR\"] = \"FR\";\n  CountryCodes2[\"DE\"] = \"DE\";\n  CountryCodes2[\"IE\"] = \"IE\";\n  CountryCodes2[\"IT\"] = \"IT\";\n  CountryCodes2[\"NL\"] = \"NL\";\n  CountryCodes2[\"NO\"] = \"NO\";\n  CountryCodes2[\"PL\"] = \"PL\";\n  CountryCodes2[\"ES\"] = \"ES\";\n  CountryCodes2[\"SE\"] = \"SE\";\n  CountryCodes2[\"CH\"] = \"CH\";\n  CountryCodes2[\"GB\"] = \"GB\";\n  return CountryCodes2;\n})(CountryCodes || {});\nvar LanguageCodes = /* @__PURE__ */ ((LanguageCodes2) => {\n  LanguageCodes2[\"DA\"] = \"DA\";\n  LanguageCodes2[\"FI\"] = \"FI\";\n  LanguageCodes2[\"FR\"] = \"FR\";\n  LanguageCodes2[\"DE\"] = \"DE\";\n  LanguageCodes2[\"EN\"] = \"EN\";\n  LanguageCodes2[\"IT\"] = \"IT\";\n  LanguageCodes2[\"NL\"] = \"NL\";\n  LanguageCodes2[\"NB\"] = \"NB\";\n  LanguageCodes2[\"PL\"] = \"PL\";\n  LanguageCodes2[\"PT\"] = \"PT\";\n  LanguageCodes2[\"ES\"] = \"ES\";\n  LanguageCodes2[\"SV\"] = \"SV\";\n  return LanguageCodes2;\n})(LanguageCodes || {});\nconst COUNTRIES = {\n  [\n    \"AT\"\n    /* AT */\n  ]: \"Austria\",\n  [\n    \"BE\"\n    /* BE */\n  ]: \"Belgium\",\n  [\n    \"DK\"\n    /* DK */\n  ]: \"Denmark\",\n  // [CountryCodes.FI]: \"Finland\",\n  [\n    \"FR\"\n    /* FR */\n  ]: \"France\",\n  [\n    \"DE\"\n    /* DE */\n  ]: \"Germany\",\n  [\n    \"IE\"\n    /* IE */\n  ]: \"Ireland\",\n  [\n    \"IT\"\n    /* IT */\n  ]: \"Italy\",\n  [\n    \"NL\"\n    /* NL */\n  ]: \"Netherlands\",\n  [\n    \"NO\"\n    /* NO */\n  ]: \"Norway\",\n  [\n    \"PL\"\n    /* PL */\n  ]: \"Poland\",\n  // [CountryCodes.PT]: \"Portugal\",\n  [\n    \"ES\"\n    /* ES */\n  ]: \"Spain\",\n  [\n    \"SE\"\n    /* SE */\n  ]: \"Sweden\",\n  [\n    \"CH\"\n    /* CH */\n  ]: \"Switzerland French\",\n  [\n    \"GB\"\n    /* GB */\n  ]: \"United Kingdom\"\n};\nconst LANGUAGES_BY_COUNTRIES = {\n  [\n    \"AT\"\n    /* AT */\n  ]: { [\n    \"DE\"\n    /* DE */\n  ]: \"Austria\" },\n  [\n    \"BE\"\n    /* BE */\n  ]: {\n    [\n      \"FR\"\n      /* FR */\n    ]: \"Belgium French\",\n    [\n      \"NL\"\n      /* NL */\n    ]: \"Belgium Dutch\"\n  },\n  [\n    \"DK\"\n    /* DK */\n  ]: { [\n    \"DA\"\n    /* DA */\n  ]: \"Denmark\" },\n  // [CountryCodes.FI]: { [LanguageCodes.FI]: \"Finland\" },\n  [\n    \"FR\"\n    /* FR */\n  ]: { [\n    \"FR\"\n    /* FR */\n  ]: \"France\" },\n  [\n    \"DE\"\n    /* DE */\n  ]: { [\n    \"DE\"\n    /* DE */\n  ]: \"Germany\" },\n  [\n    \"IE\"\n    /* IE */\n  ]: { [\n    \"EN\"\n    /* EN */\n  ]: \"Ireland\" },\n  [\n    \"IT\"\n    /* IT */\n  ]: { [\n    \"IT\"\n    /* IT */\n  ]: \"Italy\" },\n  [\n    \"NL\"\n    /* NL */\n  ]: { [\n    \"NL\"\n    /* NL */\n  ]: \"Netherlands\" },\n  [\n    \"NO\"\n    /* NO */\n  ]: { [\n    \"NB\"\n    /* NB */\n  ]: \"Norway\" },\n  [\n    \"PL\"\n    /* PL */\n  ]: { [\n    \"PL\"\n    /* PL */\n  ]: \"Poland\" },\n  // [CountryCodes.PT]: { [LanguageCodes.PT]: \"Portugal\" },\n  [\n    \"ES\"\n    /* ES */\n  ]: { [\n    \"ES\"\n    /* ES */\n  ]: \"Spain\" },\n  [\n    \"SE\"\n    /* SE */\n  ]: { [\n    \"SV\"\n    /* SV */\n  ]: \"Sweden\" },\n  [\n    \"CH\"\n    /* CH */\n  ]: {\n    [\n      \"FR\"\n      /* FR */\n    ]: \"Switzerland French\",\n    [\n      \"DE\"\n      /* DE */\n    ]: \"Switzerland German\",\n    [\n      \"IT\"\n      /* IT */\n    ]: \"Switzerland Italian\"\n  },\n  [\n    \"GB\"\n    /* GB */\n  ]: { [\n    \"EN\"\n    /* EN */\n  ]: \"United Kingdom\" }\n};\nvar Versions = /* @__PURE__ */ ((Versions2) => {\n  Versions2[\"ONE\"] = \"1\";\n  Versions2[\"TWO\"] = \"2\";\n  Versions2[\"THREE\"] = \"3\";\n  return Versions2;\n})(Versions || {});\nconst defaultSovendusAppSettings = {\n  version: \"3\"\n  /* THREE */\n};\nconst defaultIframeContainerQuerySelector = { selector: \"#sovendus-container\", where: \"none\" };\nvar SettingsType = /* @__PURE__ */ ((SettingsType2) => {\n  SettingsType2[\"SIMPLE\"] = \"simple\";\n  SettingsType2[\"COUNTRY\"] = \"country\";\n  return SettingsType2;\n})(SettingsType || {});\nconst sovendusPageApis = {\n  // this only gets called when a optimize id is set\n  // you don't have to whitelist this domain if you don't want to use Sovendus Optimize\n  optimize: \"https://www.sovopt.com/\"\n};\nconst defaultSovendusPageConfig = {\n  settings: defaultSovendusAppSettings,\n  country: void 0,\n  integrationType: \"\"\n};\nconst defaultSovendusThankyouPageConfig = {\n  settings: defaultSovendusAppSettings,\n  integrationType: \"\",\n  sovDebugLevel: void 0,\n  iframeContainerQuerySelector: void 0,\n  orderData: {},\n  customerData: {}\n};\nvar VariableIdentifiersType = /* @__PURE__ */ ((VariableIdentifiersType2) => {\n  VariableIdentifiersType2[\"integrationIdentifier_sovIframes\"] = \"sovIframes\";\n  VariableIdentifiersType2[\"legacy_integrationIdentifier_sovAbo\"] = \"_sovAboData\";\n  VariableIdentifiersType2[\"legacy_integrationIdentifier_gconData\"] = \"_gconData\";\n  return VariableIdentifiersType2;\n})(VariableIdentifiersType || {});\nconst version1 = \"v1\";\nconst latestVersion = version1;\nconst sovLoaderScriptId = \"sovloader-script\";\nexport {\n  COUNTRIES,\n  CountryCodes,\n  LANGUAGES_BY_COUNTRIES,\n  LanguageCodes,\n  SettingsType,\n  VariableIdentifiersType,\n  Versions,\n  defaultIframeContainerQuerySelector,\n  defaultSovendusAppSettings,\n  defaultSovendusPageConfig,\n  defaultSovendusThankyouPageConfig,\n  latestVersion,\n  sovLoaderScriptId,\n  sovendusPageApis,\n  version1\n};\n//# sourceMappingURL=index.mjs.map\n","import type {\n  ExplicitAnyType,\n  SovendusAppSettings,\n} from \"sovendus-integration-types\";\nimport { CountryCodes, SettingsType } from \"sovendus-integration-types\";\n\nexport function getPerformanceTime(): number {\n  throwErrorInNonBrowserContext({\n    methodName: \"getPerformanceTime\",\n    pageType: \"LandingPage\",\n    requiresWindow: true,\n  });\n  return window.performance?.now?.() || 0;\n}\n\nexport function detectCountryCode(): CountryCodes | undefined {\n  return (\n    getCountryCodeFromHtmlTag() ||\n    getCountryFromDomain() ||\n    getCountryFromPagePath()\n  );\n}\n\nexport function getOptimizeId(\n  settings: SovendusAppSettings,\n  country: CountryCodes | \"UK\" | undefined,\n): string | undefined {\n  if (settings?.optimize?.settingsType === SettingsType.SIMPLE) {\n    if (\n      settings?.optimize?.simple?.isEnabled !== false &&\n      settings?.optimize?.simple?.optimizeId\n    ) {\n      return settings.optimize.simple.optimizeId;\n    }\n  } else {\n    if (settings.optimize?.countries?.ids) {\n      const uncleanedCountryCode: CountryCodes | \"UK\" | undefined = country;\n      const countryCode =\n        uncleanedCountryCode === \"UK\" ? CountryCodes.GB : uncleanedCountryCode;\n      if (countryCode) {\n        const countryElement = settings.optimize.countries?.ids?.[countryCode];\n        return countryElement?.isEnabled\n          ? countryElement?.optimizeId\n          : undefined;\n      }\n      const fallbackId: string | undefined =\n        settings?.optimize?.countries?.fallBackId;\n      if (settings.optimize?.countries.fallBackEnabled && fallbackId) {\n        return fallbackId;\n      }\n    }\n  }\n  return undefined;\n}\n\nexport function throwErrorInNonBrowserContext({\n  methodName,\n  requiresWindow,\n  requiresDocument,\n  pageType,\n}: {\n  methodName: string;\n  requiresWindow?: boolean;\n  requiresDocument?: boolean;\n  pageType: \"LandingPage\" | \"ThankyouPage\";\n}): void {\n  if (\n    (requiresDocument ? typeof document === \"undefined\" : false) ||\n    (requiresWindow ? typeof window === \"undefined\" : false)\n  ) {\n    throw new Error(\n      `Sovendus App [${pageType}] - ${methodName}: ${requiresWindow ? \"window\" : \"\"} ${requiresDocument ? \"document\" : \"\"} is not available in your context, you can override this method`,\n    );\n  }\n}\n\nexport function loggerError(\n  message: string,\n  pageType: \"LandingPage\" | \"ThankyouPage\",\n  ...other: unknown[]\n): void {\n  // eslint-disable-next-line no-console\n  console.error(`Sovendus App [${pageType}] - ${message}`, ...other);\n}\n\nexport function loggerInfo(\n  message: string,\n  pageType: \"LandingPage\" | \"ThankyouPage\",\n  ...other: unknown[]\n): void {\n  // eslint-disable-next-line no-console\n  console.log(`Sovendus App [${pageType}] - ${message}`, ...other);\n}\n\nexport function getCountryCodeFromHtmlTag(): CountryCodes | undefined {\n  throwErrorInNonBrowserContext({\n    methodName: \"getCountryCodeFromHtmlTag\",\n    pageType: \"LandingPage\",\n    requiresDocument: true,\n  });\n  const lang = document.documentElement.lang;\n  const countryCode = lang.split(\"-\")[1];\n  return countryCode ? castToCountry(countryCode.toUpperCase()) : undefined;\n}\n\nexport function getCountryFromDomain(): CountryCodes | undefined {\n  throwErrorInNonBrowserContext({\n    methodName: \"getCountryFromDomain\",\n    pageType: \"LandingPage\",\n    requiresWindow: true,\n  });\n  const domainToCountry: {\n    [key: string]: string | undefined;\n  } = {\n    \"de\": \"DE\",\n    \"at\": \"AT\",\n    \"ch\": \"CH\",\n    \"uk\": \"GB\",\n    \"co.uk\": \"GB\",\n    \"com\": undefined,\n    \"se\": \"SE\",\n    \"no\": \"NO\",\n    \"dk\": \"DK\",\n    \"fi\": \"FI\",\n    \"fr\": \"FR\",\n    \"be\": \"BE\",\n    \"nl\": \"NL\",\n    \"it\": \"IT\",\n    \"es\": \"ES\",\n    \"pt\": \"PT\",\n    \"pl\": \"PL\",\n    \"cz\": \"CZ\",\n    \"sk\": \"SK\",\n    \"hu\": \"HU\",\n  };\n  const domain = window.location.hostname;\n  const domainParts = domain.split(\".\");\n  const domainPart = domainParts[domainParts.length - 1];\n  return (domainPart ? domainToCountry[domainPart] : undefined) as\n    | CountryCodes\n    | undefined;\n}\n\nexport function getCountryFromPagePath(): CountryCodes | undefined {\n  throwErrorInNonBrowserContext({\n    methodName: \"getCountryFromDomain\",\n    pageType: \"LandingPage\",\n    requiresWindow: true,\n  });\n  const path = window.location.pathname;\n  const pathParts = path.split(\"/\");\n  const country = pathParts[1];\n  return castToCountry(country?.toUpperCase());\n}\n\nexport function castToCountry(\n  value: string | undefined,\n): CountryCodes | undefined {\n  if (value && Object.values(CountryCodes).includes(value as CountryCodes)) {\n    return value as CountryCodes;\n  }\n  return undefined;\n}\n\nexport function makeString(value: ExplicitAnyType): string | undefined {\n  // make sure its either a valid string or undefined\n  if (value === undefined) {\n    return undefined;\n  }\n  if (typeof value === \"string\") {\n    return value;\n  }\n  return undefined;\n}\n\nexport function makeNumber(value: ExplicitAnyType): number | undefined {\n  // make sure its either a valid number or number string or undefined\n  if (value === undefined) {\n    return undefined;\n  }\n  if (typeof value === \"number\") {\n    return value;\n  }\n  if (typeof value === \"string\") {\n    const number = Number(value);\n    if (!Number.isNaN(number)) {\n      return number;\n    }\n  }\n  return undefined;\n}\n","export const integrationScriptVersion = \"3.9.9\";\n","import type {\n  LanguageCodes,\n  OrderValueData,\n  SovendusThankyouPageData,\n  VoucherNetworkLanguage,\n} from \"sovendus-integration-types\";\nimport {\n  CountryCodes,\n  type IntegrationData,\n  LANGUAGES_BY_COUNTRIES,\n  SettingsType,\n  type SovendusThankYouPageConfig,\n} from \"sovendus-integration-types\";\n\nimport { integrationScriptVersion } from \"../constants\";\nimport { getOptimizeId, loggerError, makeNumber } from \"../shared-utils\";\nimport type { SovendusThankyouPage } from \"./thankyou-page-handler\";\n\nexport async function sovendusThankyouMain(\n  this: SovendusThankyouPage,\n  sovThankyouConfig: SovendusThankYouPageConfig,\n  onDone: ({\n    sovThankyouConfig,\n    sovThankyouStatus,\n  }: SovendusThankyouPageData) => void,\n): Promise<void> {\n  const sovThankyouStatus = this.initializeStatus();\n  try {\n    if (!sovThankyouConfig) {\n      sovThankyouStatus.status.sovThankyouConfigFound = false;\n      loggerError(\"sovThankyouConfig is not defined\", \"ThankyouPage\");\n      onDone({ sovThankyouStatus, sovThankyouConfig });\n      return;\n    }\n    sovThankyouStatus.status.sovThankyouConfigFound = true;\n    await this.processConfig(sovThankyouConfig, sovThankyouStatus);\n\n    this.handleVoucherNetwork(sovThankyouConfig, sovThankyouStatus);\n    await this.handleCheckoutProductsConversion(\n      sovThankyouConfig,\n      sovThankyouStatus,\n    );\n    await this.handleOptimizeConversion(sovThankyouConfig, sovThankyouStatus);\n    sovThankyouStatus.times.integrationLoaderDone = this.getPerformanceTime();\n    sovThankyouStatus.status.integrationLoaderDone = true;\n  } catch (error) {\n    loggerError(\"Error in SovendusThankyouPage.main\", \"ThankyouPage\", error);\n  }\n  onDone({ sovThankyouConfig, sovThankyouStatus });\n}\n\nexport async function processConfig(\n  this: SovendusThankyouPage,\n  sovThankyouConfig: SovendusThankYouPageConfig,\n  sovThankyouStatus: IntegrationData,\n): Promise<void> {\n  await this.handleVoucherCode(sovThankyouConfig);\n  this.handleStreet(sovThankyouConfig);\n  this.handleCountryCode(sovThankyouConfig, sovThankyouStatus);\n  this.handleOrderValue(sovThankyouConfig);\n}\n\nexport function handleCountryCode(\n  this: SovendusThankyouPage,\n  sovThankyouConfig: SovendusThankYouPageConfig,\n  sovThankyouStatus: IntegrationData,\n): void {\n  // using string literal \"UK\" intentionally despite type mismatch as some systems might return UK instead of GB\n  if (sovThankyouConfig.customerData.consumerCountry === \"UK\") {\n    sovThankyouConfig.customerData.consumerCountry = CountryCodes.GB;\n  }\n  if (!sovThankyouConfig.customerData.consumerCountry) {\n    sovThankyouStatus.status.countryCodePassedOnByPlugin = false;\n    sovThankyouConfig.customerData.consumerCountry =\n      sovThankyouConfig.customerData.consumerCountry ||\n      this.detectCountryCode();\n  } else {\n    sovThankyouStatus.status.countryCodePassedOnByPlugin = true;\n  }\n}\n\nexport async function handleOptimizeConversion(\n  this: SovendusThankyouPage,\n  sovThankyouConfig: SovendusThankYouPageConfig,\n  sovThankyouStatus: IntegrationData,\n): Promise<void> {\n  const optimizeId = getOptimizeId(\n    sovThankyouConfig.settings,\n    sovThankyouConfig.customerData.consumerCountry,\n  );\n  if (!optimizeId) {\n    return;\n  }\n  // TODO handle multiple coupon codes\n  const couponCode = sovThankyouConfig.orderData.usedCouponCodes?.[0];\n  await this.handleOptimizeConversionScript(\n    optimizeId,\n    couponCode,\n    sovThankyouConfig,\n    sovThankyouStatus,\n  );\n}\n\nexport function handleStreet(\n  this: SovendusThankyouPage,\n  sovThankyouConfig: SovendusThankYouPageConfig,\n): void {\n  if (sovThankyouConfig.customerData.consumerStreetWithNumber) {\n    const [street, streetNumber] = this.splitStreetAndStreetNumber(\n      sovThankyouConfig.customerData.consumerStreetWithNumber,\n    );\n    sovThankyouConfig.customerData.consumerStreet = street;\n    sovThankyouConfig.customerData.consumerStreetNumber = streetNumber;\n  }\n}\n\nexport function handleOrderValue(\n  this: SovendusThankyouPage,\n  sovThankyouConfig: SovendusThankYouPageConfig,\n): void {\n  const orderValueData = sovThankyouConfig.orderData.orderValue;\n  if (!orderValueData) {\n    return;\n  }\n  if (orderValueData.netOrderValue) {\n    orderValueData.netOrderValue = makeNumber(orderValueData.netOrderValue);\n  } else {\n    orderValueData.netOrderValue = calculateNetValue(orderValueData);\n  }\n}\n\nfunction calculateNetValue(orderValueData: OrderValueData): number | undefined {\n  const grossOrderValue = makeNumber(orderValueData.grossOrderValue);\n  if (typeof grossOrderValue === \"undefined\") {\n    return undefined;\n  } else {\n    const shippingValue = makeNumber(orderValueData.shippingValue);\n    if (typeof shippingValue === \"undefined\") {\n      loggerError(\n        \"shippingValue is not defined in SovendusThankyouPage.calculateOrderValue\",\n        \"ThankyouPage\",\n      );\n    }\n    const taxValue = calculateTaxValue(orderValueData, grossOrderValue);\n    return Math.max(0, grossOrderValue - taxValue - (shippingValue || 0));\n  }\n}\n\nfunction calculateTaxValue(\n  orderValueData: OrderValueData,\n  grossOrderValue: number,\n): number {\n  const taxValue = makeNumber(orderValueData.taxValue);\n  if (typeof taxValue === \"undefined\") {\n    const taxPercent = makeNumber(orderValueData.taxPercent);\n    if (typeof taxPercent === \"undefined\") {\n      loggerError(\n        \"Either taxPercent or taxValue has to be defined in SovendusThankyouPage.calculateOrderValue\",\n        \"ThankyouPage\",\n      );\n    } else {\n      return (grossOrderValue / (1 + taxPercent / 100)) * (taxPercent / 100);\n    }\n  } else {\n    return taxValue;\n  }\n  return 0;\n}\n\nexport function splitStreetAndStreetNumber(street: string): [string, string] {\n  if (!street) {\n    return [\"\", \"\"];\n  }\n\n  const trimmedStreet = street.trim();\n\n  // Pattern 1: Handle apartment/complex addresses with comma (like \"Apt 4B, 123 Main St\")\n  const apartmentComplexMatch = trimmedStreet.match(\n    /^(.*?),\\s*(\\d+[A-Za-z]?)\\s+(.+)$/,\n  );\n  if (\n    apartmentComplexMatch &&\n    apartmentComplexMatch[1] &&\n    apartmentComplexMatch[2] &&\n    apartmentComplexMatch[3]\n  ) {\n    const apartmentPart = apartmentComplexMatch[1].trim();\n    const streetNumber = apartmentComplexMatch[2].trim();\n    const streetName = apartmentComplexMatch[3].trim();\n    return [`${apartmentPart}, ${streetName}`, streetNumber];\n  }\n\n  // Pattern 2: Handle Anglo-Saxon style with number at beginning (like \"10 Downing Street\")\n  const angleSaxonMatch = trimmedStreet.match(/^(\\d+[A-Za-z]?)\\s+(.+)$/);\n  if (angleSaxonMatch && angleSaxonMatch[1] && angleSaxonMatch[2]) {\n    const streetNumber = angleSaxonMatch[1].trim();\n    const streetName = angleSaxonMatch[2].trim();\n\n    // Check if this looks like a European address with a number at the start of the street name\n    // Example: \"1010 Wien Strasse\" - we don't want to interpret \"1010\" as the number\n    if (streetName.split(/\\s+/).length >= 2) {\n      const possiblePostalCode = streetNumber.match(/^\\d{4,5}$/);\n      if (possiblePostalCode) {\n        // This might be a postal code, not a street number\n        // Return original format and let the European pattern attempt to parse\n        return [trimmedStreet, \"\"];\n      }\n    }\n\n    return [streetName, streetNumber];\n  }\n\n  // Pattern 3: European style with number at the end (like \"Hauptstrasse 123\")\n  const europeanMatch = trimmedStreet.match(\n    /^(.*?)\\s+(\\d+(?:[\\s/-]*\\d*)(?:[A-Za-z])?(?:\\s+[A-Za-z])?)$/,\n  );\n  if (europeanMatch && europeanMatch[1] && europeanMatch[2]) {\n    const streetName = europeanMatch[1].trim();\n    const streetNumber = europeanMatch[2].trim();\n    return [streetName, streetNumber];\n  }\n\n  // No number found or couldn't parse\n  return [trimmedStreet, \"\"];\n}\n\nexport async function handleVoucherCode(\n  this: SovendusThankyouPage,\n  sovThankyouConfig: SovendusThankYouPageConfig,\n): Promise<void> {\n  const couponFromCookie = await this.getCookie(\"sovCouponCode\");\n  if (couponFromCookie) {\n    this.clearCookie(\"sovCouponCode\");\n    sovThankyouConfig.orderData.usedCouponCodes = [couponFromCookie];\n    return;\n  }\n  if (sovThankyouConfig.orderData.usedCouponCode) {\n    if (!sovThankyouConfig.orderData.usedCouponCodes?.length) {\n      sovThankyouConfig.orderData.usedCouponCodes = [];\n    }\n    sovThankyouConfig.orderData.usedCouponCodes.push(\n      sovThankyouConfig.orderData.usedCouponCode,\n    );\n  }\n}\n\nexport function initializeStatus(this: SovendusThankyouPage): IntegrationData {\n  const sovThankyouStatus: IntegrationData = {\n    integrationScriptVersion,\n    status: {\n      sovThankyouConfigFound: false,\n      integrationLoaderStarted: false,\n      integrationParametersLoaded: false,\n      checkoutProductsPixelFired: false,\n      loadedOptimize: false,\n      voucherNetworkLinkTrackingSuccess: false,\n      integrationLoaderVnCbStarted: false,\n      integrationLoaderDone: false,\n      voucherNetworkIframeContainerIdFound: false,\n      voucherNetworkIframeContainerFound: false,\n      countryCodePassedOnByPlugin: false,\n    },\n    data: {\n      orderValue: undefined,\n      orderCurrency: undefined,\n      orderId: undefined,\n      sovCouponCode: undefined,\n      sovReqToken: undefined,\n      puid: undefined,\n      sovDebugLevel: undefined,\n    },\n    times: {\n      integrationLoaderStart: this.getPerformanceTime(),\n    },\n  };\n  return sovThankyouStatus;\n}\n\nexport async function handleCheckoutProductsConversion(\n  this: SovendusThankyouPage,\n  sovThankyouConfig: SovendusThankYouPageConfig,\n  sovThankyouStatus: IntegrationData,\n): Promise<boolean> {\n  const { checkoutProducts } = sovThankyouConfig.settings;\n  if (checkoutProducts) {\n    const sovReqToken = await this.getCookie(\"sovReqToken\");\n    if (sovReqToken) {\n      this.clearCookie(\"sovReqToken\");\n      const pixelUrl = `https://press-order-api.sovendus.com/ext/image?sovReqToken=${decodeURIComponent(sovReqToken)}`;\n      await fetch(pixelUrl);\n      sovThankyouStatus.status.checkoutProductsPixelFired = true;\n    }\n  }\n  return false;\n}\n\nexport function getVoucherNetworkConfig(\n  this: SovendusThankyouPage,\n  sovThankyouConfig: SovendusThankYouPageConfig,\n): VoucherNetworkLanguage | undefined {\n  if (\n    sovThankyouConfig.settings?.voucherNetwork?.settingType ===\n    SettingsType.SIMPLE\n  ) {\n    return sovThankyouConfig.settings?.voucherNetwork?.simple;\n  }\n  if (\n    sovThankyouConfig.settings?.voucherNetwork?.settingType ===\n    SettingsType.COUNTRY\n  ) {\n    return this.getVoucherNetworkCountryBasedSettings(sovThankyouConfig);\n  }\n  return undefined;\n}\n\nexport function getVoucherNetworkCountryBasedSettings(\n  this: SovendusThankyouPage,\n  sovThankyouConfig: SovendusThankYouPageConfig,\n): VoucherNetworkLanguage | undefined {\n  const country = sovThankyouConfig.customerData\n    .consumerCountry as CountryCodes;\n  if (!sovThankyouConfig.customerData.consumerCountry) {\n    return undefined;\n  }\n  const countrySettings =\n    sovThankyouConfig.settings?.voucherNetwork?.countries?.ids?.[country];\n  const languagesSettings = countrySettings?.languages;\n  if (!languagesSettings) {\n    return undefined;\n  }\n  const languagesAvailable = Object.keys(LANGUAGES_BY_COUNTRIES[country]);\n  if (languagesAvailable?.length === 1) {\n    const language = languagesAvailable[0] as LanguageCodes;\n    const languageSettings = languagesSettings[language];\n    return {\n      isEnabled: languageSettings?.isEnabled || false,\n      trafficSourceNumber: languageSettings?.trafficSourceNumber || \"\",\n      trafficMediumNumber: languageSettings?.trafficMediumNumber || \"\",\n      ...languageSettings,\n      iframeContainerQuerySelector:\n        sovThankyouConfig.settings?.voucherNetwork?.countries\n          ?.iframeContainerQuerySelector ||\n        languageSettings?.iframeContainerQuerySelector,\n    };\n  }\n  if (languagesAvailable?.length > 1) {\n    const languageKey =\n      sovThankyouConfig.customerData.consumerLanguage ||\n      this.detectLanguageCode();\n    const languageSettings = languageKey && languagesSettings[languageKey];\n    if (!languageSettings) {\n      return undefined;\n    }\n    return {\n      ...languageSettings,\n      iframeContainerQuerySelector:\n        sovThankyouConfig.settings.voucherNetwork?.countries\n          ?.iframeContainerQuerySelector ||\n        languageSettings?.iframeContainerQuerySelector,\n    };\n  }\n  return undefined;\n}\n\nexport const flexibleIframeScriptId = \"sovendus-iframe-script\";\n","import type {\n  AwinConversion,\n  IntegrationData,\n  SovCbVnApplicationType,\n  SovendusConsumerData,\n  SovendusThankYouPageConfig,\n  SovendusVNConversion,\n} from \"sovendus-integration-types\";\nimport { sovLoaderScriptId } from \"sovendus-integration-types\";\n\nimport { flexibleIframeScriptId } from \"./utils\";\n\nexport function cleanUp(): void {\n  window.sovApplication?.instances?.forEach((instance) => {\n    if (instance.isCollapsableOverlay) {\n      window.sovApplication?.collapsableOverlay?.closeInstance(instance, false);\n      window.sovApplication?.sovCollector?.clearProperties();\n    }\n    if (instance.isStickyBanner) {\n      window.sovApplication?.stickyBanner?.closeInstance(instance);\n      window.sovApplication?.sovCollector?.clearProperties();\n    }\n  });\n  if (window.sovApplication?.messageListener) {\n    window.removeEventListener(\n      \"message\",\n      window.sovApplication?.messageListener,\n      true,\n    );\n    window.sovApplication.resizeListenerAdded = false;\n  }\n  if (window.sovThankyouConfig) {\n    delete window.sovThankyouConfig;\n  }\n  if (window.sovThankyouStatus) {\n    delete window.sovThankyouStatus;\n  }\n  if (window.sovConsumer) {\n    delete window.sovConsumer;\n  }\n  if (window.sovIframes) {\n    delete window.sovIframes;\n  }\n  if (window.sovApplication) {\n    delete window.sovApplication;\n  }\n  document.getElementById(sovLoaderScriptId)?.remove();\n  document.getElementById(flexibleIframeScriptId)?.remove();\n}\n\ninterface _SovendusPublicConversionWindow extends Window {\n  sovThankyouConfig?: SovendusThankYouPageConfig;\n  sovThankyouStatus?: IntegrationData;\n  sovIframes?: SovendusVNConversion[];\n  sovConsumer?: SovendusConsumerData;\n  AWIN?: AwinConversion;\n  sovApplication?: SovCbVnApplicationType;\n}\n\ndeclare let window: _SovendusPublicConversionWindow;\n","import type {\n  CountryCodes,\n  IframeContainerQuerySelectorSettings,\n  IntegrationData,\n  LanguageCodes,\n  SovendusConsumerData,\n  SovendusPageUrlParams,\n  SovendusThankYouPageConfig,\n  SovendusThankyouPageData,\n  SovendusVNConversion,\n  VoucherNetworkLanguage,\n} from \"sovendus-integration-types\";\nimport { defaultIframeContainerQuerySelector } from \"sovendus-integration-types\";\n\nimport {\n  detectCountryCode,\n  getPerformanceTime,\n  loggerError,\n  throwErrorInNonBrowserContext,\n} from \"../shared-utils\";\nimport { cleanUp } from \"./unmount\";\nimport {\n  flexibleIframeScriptId,\n  getVoucherNetworkConfig,\n  getVoucherNetworkCountryBasedSettings,\n  handleCheckoutProductsConversion,\n  handleCountryCode,\n  handleOptimizeConversion,\n  handleOrderValue,\n  handleStreet,\n  handleVoucherCode,\n  initializeStatus,\n  processConfig,\n  sovendusThankyouMain,\n  splitStreetAndStreetNumber,\n} from \"./utils\";\n\nexport class SovendusThankyouPage {\n  // Standard implementation of the Sovendus thankyou page script\n  // You can extend this class and override the methods to customize the behavior\n  // You can find example overrides in any of our Sovendus plugins\n  // Also make sure to check out our docs for more information\n\n  main: (\n    sovThankyouConfig: SovendusThankYouPageConfig,\n    onDone: ({\n      sovThankyouConfig,\n      sovThankyouStatus,\n    }: SovendusThankyouPageData) => void,\n  ) => Promise<void> = sovendusThankyouMain;\n\n  processConfig: (\n    sovThankyouConfig: SovendusThankYouPageConfig,\n    sovThankyouStatus: IntegrationData,\n  ) => Promise<void> = processConfig;\n\n  handleCountryCode: (\n    sovThankyouConfig: SovendusThankYouPageConfig,\n    sovThankyouStatus: IntegrationData,\n  ) => void = handleCountryCode;\n\n  handleOptimizeConversion: (\n    sovThankyouConfig: SovendusThankYouPageConfig,\n    sovThankyouStatus: IntegrationData,\n  ) => Promise<void> = handleOptimizeConversion;\n\n  // Is async in case the plugin needs to wait for the script to load\n  handleOptimizeConversionScript(\n    optimizeId: string,\n    couponCode: string | undefined,\n    sovThankyouConfig: SovendusThankYouPageConfig,\n    sovThankyouStatus: IntegrationData,\n  ): Promise<void> | void {\n    throwErrorInNonBrowserContext({\n      methodName: \"handleOptimizeConversionScript\",\n      pageType: \"ThankyouPage\",\n      requiresDocument: true,\n    });\n    const script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    script.async = true;\n    script.src = `https://www.sovopt.com/${optimizeId}/conversion/?ordervalue=${\n      sovThankyouConfig.orderData.orderValue?.netOrderValue\n    }&ordernumber=${sovThankyouConfig.orderData.orderId}&vouchercode=${\n      couponCode\n    }&email=${sovThankyouConfig.customerData.consumerEmail}`;\n    document.body.appendChild(script);\n    sovThankyouStatus.status.loadedOptimize = true;\n  }\n\n  handleStreet: (sovThankyouConfig: SovendusThankYouPageConfig) => void =\n    handleStreet;\n\n  splitStreetAndStreetNumber: (street: string) => [string, string] =\n    splitStreetAndStreetNumber;\n\n  handleVoucherCode: (\n    sovThankyouConfig: SovendusThankYouPageConfig,\n  ) => Promise<void> = handleVoucherCode;\n\n  initializeStatus: () => IntegrationData = initializeStatus;\n\n  handleVoucherNetwork(\n    sovThankyouConfig: SovendusThankYouPageConfig,\n    sovThankyouStatus: IntegrationData,\n  ): void {\n    throwErrorInNonBrowserContext({\n      methodName: \"handleVoucherNetwork\",\n      pageType: \"ThankyouPage\",\n      requiresDocument: true,\n      requiresWindow: true,\n    });\n    const voucherNetworkConfig =\n      this.getVoucherNetworkConfig(sovThankyouConfig);\n    // TODO handle multiple coupon codes\n    const couponCode = sovThankyouConfig.orderData.usedCouponCodes?.[0];\n    if (\n      voucherNetworkConfig?.trafficSourceNumber &&\n      voucherNetworkConfig?.trafficMediumNumber &&\n      voucherNetworkConfig?.isEnabled\n    ) {\n      const iframeContainerId = this.handleSovendusVoucherNetworkDivContainer(\n        voucherNetworkConfig,\n        sovThankyouConfig,\n        sovThankyouStatus,\n      );\n      window.sovIframes = window.sovIframes || [];\n      window.sovIframes.push({\n        trafficSourceNumber: voucherNetworkConfig.trafficSourceNumber,\n        trafficMediumNumber: voucherNetworkConfig.trafficMediumNumber,\n        sessionId: sovThankyouConfig.orderData.sessionId,\n        orderId: sovThankyouConfig.orderData.orderId,\n        orderValue: sovThankyouConfig.orderData.orderValue?.netOrderValue,\n        orderCurrency: sovThankyouConfig.orderData.orderCurrency,\n        usedCouponCode: couponCode,\n        iframeContainerId: iframeContainerId,\n        integrationType: sovThankyouConfig.integrationType,\n      });\n      window.sovConsumer = {\n        consumerFirstName: sovThankyouConfig.customerData.consumerFirstName,\n        consumerLastName: sovThankyouConfig.customerData.consumerLastName,\n        consumerEmail: sovThankyouConfig.customerData.consumerEmail,\n        consumerStreet: sovThankyouConfig.customerData.consumerStreet,\n        consumerStreetNumber:\n          sovThankyouConfig.customerData.consumerStreetNumber,\n        consumerZipcode: sovThankyouConfig.customerData.consumerZipcode,\n        consumerCity: sovThankyouConfig.customerData.consumerCity,\n        consumerCountry: sovThankyouConfig.customerData.consumerCountry,\n        consumerPhone: sovThankyouConfig.customerData.consumerPhone,\n        consumerDateOfBirth: sovThankyouConfig.customerData.consumerDateOfBirth,\n        consumerYearOfBirth: sovThankyouConfig.customerData.consumerYearOfBirth,\n        consumerEmailHash: sovThankyouConfig.customerData.consumerEmailHash,\n        consumerSalutation: sovThankyouConfig.customerData.consumerSalutation,\n        consumerStreetWithNumber:\n          sovThankyouConfig.customerData.consumerStreetWithNumber,\n        consumerLanguage: sovThankyouConfig.customerData.consumerLanguage,\n      };\n\n      const script = document.createElement(\"script\");\n      script.type = \"text/javascript\";\n      script.async = true;\n      script.id = flexibleIframeScriptId;\n      script.src =\n        \"https://api.sovendus.com/sovabo/common/js/flexibleIframe.js\";\n      document.body.appendChild(script);\n      sovThankyouStatus.status.integrationLoaderVnCbStarted = true;\n      sovThankyouStatus.times.integrationLoaderVnCbStart =\n        this.getPerformanceTime();\n    }\n  }\n\n  handleOrderValue: (sovThankyouConfig: SovendusThankYouPageConfig) => void =\n    handleOrderValue;\n\n  handleSovendusVoucherNetworkDivContainer(\n    voucherNetworkConfig: VoucherNetworkLanguage,\n    sovThankyouConfig: SovendusThankYouPageConfig,\n    sovThankyouStatus: IntegrationData,\n  ): string {\n    throwErrorInNonBrowserContext({\n      methodName: \"handleSovendusVoucherNetworkDivContainer\",\n      pageType: \"ThankyouPage\",\n      requiresDocument: true,\n      requiresWindow: true,\n    });\n    const iframeContainerSettings = this.getIframeQuerySelector(\n      voucherNetworkConfig,\n      sovThankyouConfig,\n    );\n    const rootElement = document.querySelector(\n      iframeContainerSettings.selector,\n    );\n    if (rootElement) {\n      if (iframeContainerSettings.where === \"none\") {\n        return rootElement.id;\n      }\n      const sovendusDiv = document.createElement(\"div\");\n      sovendusDiv.id = \"sovendus-container\";\n      rootElement.insertAdjacentElement(\n        iframeContainerSettings.where,\n        sovendusDiv,\n      );\n      sovThankyouStatus.status.voucherNetworkIframeContainerFound = true;\n      return sovendusDiv.id;\n    } else {\n      sovThankyouStatus.status.voucherNetworkIframeContainerFound = false;\n      loggerError(\n        `Voucher Network container query selector ${iframeContainerSettings.selector} not found`,\n        \"ThankyouPage\",\n      );\n      return \"\";\n    }\n  }\n\n  getIframeQuerySelector(\n    voucherNetworkConfig: VoucherNetworkLanguage,\n    sovThankyouConfig: SovendusThankYouPageConfig,\n  ): IframeContainerQuerySelectorSettings {\n    if (voucherNetworkConfig.iframeContainerQuerySelector) {\n      return voucherNetworkConfig.iframeContainerQuerySelector;\n    }\n    if (sovThankyouConfig.iframeContainerQuerySelector) {\n      return sovThankyouConfig.iframeContainerQuerySelector;\n    }\n    loggerError(\n      \"No iframeContainerQuerySelector found in SovendusThankYouPageConfig, trying default\",\n      \"ThankyouPage\",\n    );\n    return defaultIframeContainerQuerySelector;\n  }\n\n  handleCheckoutProductsConversion: (\n    sovThankyouConfig: SovendusThankYouPageConfig,\n    sovThankyouStatus: IntegrationData,\n  ) => Promise<boolean> = handleCheckoutProductsConversion;\n\n  // make it async as some platforms might need to wait for the cookies\n  getCookie(\n    name: keyof SovendusPageUrlParams,\n  ): Promise<string | undefined> | string | undefined {\n    throwErrorInNonBrowserContext({\n      methodName: \"getCookie\",\n      pageType: \"ThankyouPage\",\n      requiresDocument: true,\n    });\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${name}=`);\n    if (parts.length === 2) {\n      return parts.pop()?.split(\";\").shift();\n    }\n    return undefined;\n  }\n\n  clearCookie(name: keyof SovendusPageUrlParams): void {\n    throwErrorInNonBrowserContext({\n      methodName: \"clearCookie\",\n      pageType: \"ThankyouPage\",\n      requiresDocument: true,\n      requiresWindow: true,\n    });\n    // only capable clearing a cookie\n    const path = \"/\";\n    const domain = window.location.hostname;\n    const cookieString = `${name}=;secure;samesite=strict;expires=Thu, 01 Jan 1970 00:00:00 UTC;domain=${domain};path=${path}`;\n\n    document.cookie = cookieString;\n  }\n\n  getVoucherNetworkConfig: (\n    sovThankyouConfig: SovendusThankYouPageConfig,\n  ) => VoucherNetworkLanguage | undefined = getVoucherNetworkConfig;\n\n  getVoucherNetworkCountryBasedSettings: (\n    sovThankyouConfig: SovendusThankYouPageConfig,\n  ) => VoucherNetworkLanguage | undefined =\n    getVoucherNetworkCountryBasedSettings;\n\n  detectLanguageCode(): LanguageCodes | undefined {\n    throwErrorInNonBrowserContext({\n      methodName: \"getCookie\",\n      pageType: \"ThankyouPage\",\n      requiresDocument: true,\n    });\n    const htmlLang = document.documentElement.lang.split(\"-\")[0];\n    if (htmlLang) {\n      return htmlLang.toUpperCase() as LanguageCodes;\n    }\n    return navigator.language.split(\"-\")[0]?.toUpperCase() as\n      | LanguageCodes\n      | undefined;\n  }\n\n  getPerformanceTime: () => number = getPerformanceTime;\n\n  detectCountryCode: () => CountryCodes | undefined = detectCountryCode;\n\n  unmount(): void {\n    cleanUp();\n  }\n}\n\ninterface ThankYouWindow extends Window {\n  sovIframes: SovendusVNConversion[];\n  sovConsumer: SovendusConsumerData;\n}\ndeclare let window: ThankYouWindow;\n","import type {\n  SovendusThankyouPageData,\n  SovendusThankyouWindow,\n} from \"sovendus-integration-types\";\n\nimport { SovendusThankyouPage } from \"./thankyou-page-handler\";\n\ndeclare const window: SovendusThankyouWindow;\n\nexport function loadSovendusThankyouPage(): void {\n  const OnDone = ({ sovThankyouStatus }: SovendusThankyouPageData): void => {\n    // just used for debugging with the testing app\n    window.sovThankyouStatus = sovThankyouStatus;\n  };\n\n  void new SovendusThankyouPage().main(window.sovThankyouConfig, OnDone);\n}\n","import { loadSovendusThankyouPage } from \"./thankyou-page\";\n\nloadSovendusThankyouPage();\n"],"names":["_b","_a","_d","_c","_f","_e"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}